# user_settings.py - Advanced Version with Filtering
"""
ุชูุธูุงุช ูพุดุฑูุชู ฺฉุงุฑุจุฑ ุจุง ูุงุจูุช ููุชุฑูฺฏ
"""

# ==============================================================================
# ๐ SOURCE URLs ุจุง ููุชุฑ ูพุดุฑูุชู
# ==============================================================================

"""
ูุฑูุช ุฌุฏุฏ:
{
    "url": "ุขุฏุฑุณ ฺฉุงูุงู",
    "filters": {
        "servers": ["*"] ุง ["ip/domain", ...],    # ููุชุฑ ุณุฑูุฑ
        "countries": ["*"] ุง ["US", "DE", ...],   # ููุชุฑ ฺฉุดูุฑ (ฺฉุฏ 2 ุญุฑู)
        "protocols": ["*"] ุง ["vless", ...],      # ููุชุฑ ูพุฑูุชฺฉู
        "ports": ["*"] ุง [443, 8080, ...],        # ููุชุฑ ูพูุฑุช
    },
    "priority": 1-10,  # ุงูููุช ฺฉุงูุงู (ูพุดโูุฑุถ: 5)
    "enabled": True/False  # ูุนุงู/ุบุฑูุนุงู
}

ุชูุถุญุงุช:
- "*" = ููู (ุจุฏูู ููุชุฑ)
- ูุณุช ุฎุงู [] = ููู (ุจุฏูู ููุชุฑ)
- ูุณุช ุจุง ููุงุฏุฑ = ููุท ููุงุฑุฏ ูุดุฎุต ุดุฏู
"""

SOURCE_URLS = [
    # ==================== ฺฉุงูุงู ุงูู: freeonlinevpn ====================
    # ููุท IP ูุง 91.99.225.11 ู 91.99.225.12
    {
        "url": "https://t.me/s/freeonlinevpn",
        "filters": {
            "servers": [
                "91.99.225.11",    # IP ุงูู
            ],
            "countries": ["*"],    # ููู ฺฉุดูุฑูุง
            "protocols": ["*"],    # ููู ูพุฑูุชฺฉูโูุง
            "ports": ["*"],        # ููู ูพูุฑุชโูุง
        },
        "priority": 10,            # ุงูููุช ุจุงูุง
        "enabled": True
    },
    
    # ==================== ฺฉุงูุงู ุฏูู: zedmodeonVPN ====================
    {
        "url": "https://t.me/s/zedmodeonVPN",
        "filters": {
            "servers": ["*"],
            "countries": ["*"],       # ููู ฺฉุดูุฑูุง
            "protocols": ["*"],       # ููู ูพุฑูุชฺฉูโูุง
            "ports": ["*"],           # ููู ูพูุฑุชโูุง
        },
        "priority": 10,               # ุงูููุช ุจุงูุง
        "enabled": True
    },
    
    # ==================== ูุซุงู 1: ููุท ุณุฑูุฑูุง ุฎุงุต ====================
    {
        "url": "https://t.me/s/V2rayNGn",
        "filters": {
            "servers": [
                "example.com",           # ุฏุงููู ุฎุงุต
                "cdn.cloudflare.com",    # CDN
                "192.168.1.1",          # IP ุฎุงุต
                "10.0.0.*",             # Range ุจุง wildcard
            ],
            "countries": ["*"],
            "protocols": ["*"],
            "ports": ["*"],
        },
        "priority": 8,
        "enabled": True
    },
    
    # ==================== ูุซุงู 2: ููุท ฺฉุดูุฑูุง ุฎุงุต ====================
    {
        "url": "https://t.me/s/VpnProSec",
        "filters": {
            "servers": ["*"],
            "countries": ["US", "DE", "NL", "FR"],  # ููุท ุขูุฑฺฉุงุ ุขููุงูุ ูููุฏุ ูุฑุงูุณู
            "protocols": ["*"],
            "ports": ["*"],
        },
        "priority": 7,
        "enabled": False
    },
    
    # ==================== ูุซุงู 3: ููุท ูพุฑูุชฺฉูโูุง ุฎุงุต ====================
    {
        "url": "https://t.me/s/iP_CF",
        "filters": {
            "servers": ["*"],
            "countries": ["*"],
            "protocols": ["vless", "vmess"],  # ููุท VLESS ู VMess
            "ports": ["*"],
        },
        "priority": 6,
        "enabled": False
    },
    
    # ==================== ูุซุงู 4: ููุท ูพูุฑุชโูุง ุฎุงุต ====================
    {
        "url": "https://t.me/s/ConfigsHUB",
        "filters": {
            "servers": ["*"],
            "countries": ["*"],
            "protocols": ["*"],
            "ports": [443, 8443, 2053, 2083],  # ููุท ูพูุฑุชโูุง ุงุณุชุงูุฏุงุฑุฏ TLS
        },
        "priority": 5,
        "enabled": False
    },
    
    # ==================== ูุซุงู 5: ููุชุฑ ุชุฑฺฉุจ ูพุดุฑูุชู ====================
    {
        "url": "https://t.me/s/PrivateVPNs",
        "filters": {
            "servers": ["*.cloudflare.com", "cdn.*"],  # ููุท CDN ูุง
            "countries": ["US", "DE"],                  # ููุท ุขูุฑฺฉุง ู ุขููุงู
            "protocols": ["vless", "trojan"],           # ููุท VLESS ู Trojan
            "ports": [443, 8443],                       # ููุท ูพูุฑุชโูุง TLS
        },
        "priority": 9,
        "enabled": False
    },
    
    # ==================== ูุซุงู 6: ุจุฏูู ููุชุฑ (ููู ฺุฒ) ====================
    {
        "url": "https://t.me/s/DisabledChannel",
        "filters": {
            "servers": ["*"],
            "countries": ["*"],
            "protocols": ["*"],
            "ports": ["*"],
        },
        "priority": 1,
        "enabled": False  # ุงู ฺฉุงูุงู ุบุฑูุนุงูู
    },
]


# ==============================================================================
# โ๏ธ ุชูุธูุงุช ุงุตู
# ==============================================================================

# ุขุง ุชูุงู ฺฉุงููฺฏโูุง ููฺฉู ุงุณุชุฎุฑุงุฌ ุดููุฏุ
USE_MAXIMUM_POWER = False

# ุชุนุฏุงุฏ ฺฉุงููฺฏ ููุฑุฏ ูุงุฒ (ููุท ุงฺฏุฑ USE_MAXIMUM_POWER = False)
SPECIFIC_CONFIG_COUNT = 15

# ูพุฑูุชฺฉูโูุง ูุนุงู (ููุชุฑ ุณุฑุงุณุฑ)
ENABLED_PROTOCOLS = {
    "wireguard://": False,
    "hysteria2://": True,
    "vless://": True,
    "vmess://": True,
    "ss://": True,
    "trojan://": True,
    "tuic://": True,
}

# ุญุฏุงฺฉุซุฑ ุณู ฺฉุงููฺฏโูุง (ุฑูุฒ)
MAX_CONFIG_AGE_DAYS = 2


# ==============================================================================
# ๐ง ุชูุธูุงุช ูพุดุฑูุชู ููุชุฑูฺฏ
# ==============================================================================

# ุขุง ููุชุฑูุง ุงุนูุงู ุดููุฏุ
ENABLE_FILTERING = True

# ูุญูู ุชุฑฺฉุจ ููุชุฑูุง
FILTER_MODE = "AND"  # "AND" = ููู ุดุฑุงุท ุจุงุฏ ุจุฑูุฑุงุฑ ุจุงุดู | "OR" = ฺฉ ฺฉุงูู

# ุขุง wildcard ูพุดุชุจุงู ุจุดูุ (ูุซู *.cloudflare.com ุง 192.168.*)
ENABLE_WILDCARD = True

# ูุงฺฏ ููุชุฑูฺฏ (ุจุฑุง ุฏุจุงฺฏ)
LOG_FILTERED_CONFIGS = True  # ููุงุด ฺฉุงููฺฏโูุง ฺฉู ููุชุฑ ุดุฏู


# ==============================================================================
# ๐ ุชูุธูุงุช GeoIP
# ==============================================================================

# ุงุณุชูุงุฏู ุงุฒ cache ุจุฑุง ฺฉุดูุฑูุง (ุฌููฺฏุฑ ุงุฒ ุฏุฑุฎูุงุณุช ุฒุงุฏ)
USE_GEOIP_CACHE = True

# ูุฏุช ุงุนุชุจุงุฑ cache (ุซุงูู)
GEOIP_CACHE_TTL = 86400  # 24 ุณุงุนุช

# ุณุฑูุณ GeoIP (ุจุฑุง ุชุดุฎุต ฺฉุดูุฑ)
GEOIP_SERVICE = "ip-api.com"  # ุง "ipapi.co" ุง "ipinfo.io"


# ==============================================================================
# ๐ ุชูุธูุงุช ุงูููุชโุจูุฏ
# ==============================================================================

# ุขุง ฺฉุงูุงูโูุง ุจุฑ ุงุณุงุณ ุงูููุช ูุฑุชุจ ุดููุฏุ
SORT_BY_PRIORITY = True

# ุขุง ฺฉุงููฺฏโูุง ุจุฑ ุงุณุงุณ ฺฉุดูุฑ ูุฑุชุจ ุดููุฏุ
SORT_BY_COUNTRY = False

# ุขุง ฺฉุงููฺฏโูุง ุจุฑ ุงุณุงุณ ูพุฑูุชฺฉู ูุฑุชุจ ุดููุฏุ
SORT_BY_PROTOCOL = False


# ==============================================================================
# ๐ซ ูุณุช ุณุงู (Blacklist)
# ==============================================================================

# ุณุฑูุฑูุง ฺฉู ูฺโููุช ุงุณุชุฎุฑุงุฌ ูุดู
BLACKLIST_SERVERS = [
    # "bad-server.com",
    # "192.168.1.100",
]

# ฺฉุดูุฑูุง ฺฉู ูฺโููุช ุงุณุชุฎุฑุงุฌ ูุดู
BLACKLIST_COUNTRIES = [
    # "CN",  # ฺู
    # "IR",  # ุงุฑุงู
]

# ูพุฑูุชฺฉูโูุง ฺฉู ูฺโููุช ุงุณุชุฎุฑุงุฌ ูุดู
BLACKLIST_PROTOCOLS = [
    # "ss",  # Shadowsocks
]

# ูพูุฑุชโูุง ฺฉู ูฺโููุช ุงุณุชุฎุฑุงุฌ ูุดู
BLACKLIST_PORTS = [
    # 22,   # SSH
    # 3389, # RDP
]


# ==============================================================================
# โ ูุณุช ุณูุฏ (Whitelist) - ุงฺฏู ูุนุงู ุจุงุดูุ ููุท ููุงุฑุฏ ูุณุช ุงุณุชุฎุฑุงุฌ ูุดู
# ==============================================================================

# ุงุณุชูุงุฏู ุงุฒ Whitelistุ
USE_WHITELIST = False

# ุณุฑูุฑูุง ูุฌุงุฒ
WHITELIST_SERVERS = [
    # "trusted-server.com",
]

# ฺฉุดูุฑูุง ูุฌุงุฒ
WHITELIST_COUNTRIES = [
    # "US", "DE", "NL",
]

# ูพุฑูุชฺฉูโูุง ูุฌุงุฒ
WHITELIST_PROTOCOLS = [
    # "vless", "vmess", "trojan",
]

# ูพูุฑุชโูุง ูุฌุงุฒ
WHITELIST_PORTS = [
    # 443, 8443, 2053, 2083,
]


# ==============================================================================
# ๐ ุงุฏุฏุงุดุชโูุง ู ุฑุงูููุง
# ==============================================================================

"""
๐ฏ ูฺฉุงุช ููู:

1. ูุฑูุช ฺฉุดูุฑูุง: ฺฉุฏ 2 ุญุฑู ISO (US, DE, FR, GB, ...)
   
2. ูุฑูุช ูพุฑูุชฺฉูโูุง: ุจุฏูู :// (vless, vmess, trojan, ...)

3. Wildcard patterns:
   - *.domain.com โ ููู subdomain ูุง domain.com
   - 192.168.* โ ููู IP ูุง 192.168.x.x
   - cdn.* โ ููู domain ูุง ฺฉู ุจุง cdn. ุดุฑูุน ูุดู

4. ุงูููุช (priority):
   - 1-3: ฺฉู
   - 4-6: ูุชูุณุท
   - 7-10: ุฒุงุฏ

5. ููุชุฑูุง ุจู ุชุฑุชุจ ุงุนูุงู ูุดู:
   - ุงุจุชุฏุง Whitelist (ุงฺฏู ูุนุงู ุจุงุดู)
   - ุณูพุณ Blacklist
   - ุจุนุฏ ููุชุฑูุง ูุฑ ฺฉุงูุงู
   - ุฏุฑ ุขุฎุฑ ููุชุฑูุง ุณุฑุงุณุฑ

6. FILTER_MODE:
   - "AND": ููู ุดุฑุงุท ููุชุฑ ุจุงุฏ ุจุฑูุฑุงุฑ ุจุงุดู
   - "OR": ฺฉ ุงุฒ ุดุฑุงุท ฺฉุงูู

ูุซุงู ุงุณุชูุงุฏู:

# ููุท Reality ูุง ุขููุงู ุจุง CDN:
{
    "url": "https://t.me/s/channel",
    "filters": {
        "servers": ["*.cloudflare.com"],
        "countries": ["DE"],
        "protocols": ["vless"],  # Reality ูุนูููุงู ุจุง VLESS
        "ports": [443],
    }
}

# ููู ูพุฑูฺฉุณโูุง ุจุฌุฒ Shadowsocks:
BLACKLIST_PROTOCOLS = ["ss"]

# ููุท ูพูุฑุชโูุง ุงุณุชุงูุฏุงุฑุฏ:
WHITELIST_PORTS = [80, 443, 8080, 8443, 2053, 2083, 2087, 2096]
"""
